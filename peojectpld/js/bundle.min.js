const DESKTOP_BREAKPOINT=window.matchMedia("(min-width: 768px)"),AUDIO_ELEMENT=document.getElementById("gospel"),HALO_MODEL_PATH="final-torus-opt.glb",THREEJS_HALO_WRAPPER=document.querySelector(".threejs-wrapper"),FOOTER=document.querySelector("footer"),TAP_HALO_TEXT_CLASS=document.querySelector(".tap-halo"),DESKTOP_MENU=document.querySelector("#menu-section"),DESKTOP_MENU_BACKDROP=document.querySelector("#menu-backdrop"),DESKTOP_MENU_BACKGROUND=document.querySelector("#menu-background"),DESKTOP_MENU_LINKS=DESKTOP_MENU.querySelectorAll(".animated-menu-link"),DESKTOP_MENU_ANIM_LINKS=DESKTOP_MENU.querySelectorAll(".menu-anim-link");DESKTOP_MENU_BUTTON_TEXT=document.querySelector("#menu-button-text"),DESKTOP_MENU_BUTTON=document.querySelector("#menu-button"),DESKTOP_MENU_DIVIDER=document.querySelector(".menu-divider"),DESKTOP_MENU_LAYOUT=DESKTOP_MENU.querySelector(".menu-popup-layout"),MOBILE_MENU_BRIEF_BUTTON=document.querySelector("#brief-button"),MOBILE_MENU_BUTTON=document.querySelector("#menu-button"),MOBILE_MENU=document.querySelector(".mobile-menu"),MOBILE_MENU_LINKS=MOBILE_MENU.querySelectorAll(".animated-menu-link"),MOBILE_MENU_BUTTONS=MOBILE_MENU.querySelectorAll(".menu-button-top"),OGL_CANVAS=document.querySelector("#ogl-canvas"),DESCRIPTOR_CONTAINER=document.querySelector(".descriptor"),PRESENTATION_CARDS=document.querySelectorAll(".slide");const DESCRIPTOR_NAMES=["DESIGN STUDIO","DEVELOPMENT TEAM","DESIGN CREW","PRODUCT SQUAD","COMMUNICATION AGENCY"];var haloModel,haloMixer,menuAnimation,preloaderIsDone=!1,isHaloHovered=!1,isMenuOpen=!1,gltfThreeLoader=new THREE.GLTFLoader,haloScene=new THREE.Scene,haloRenderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),haloCamera=new THREE.PerspectiveCamera(10,1,1,1e3),haloBase=new THREE.Object3D,haloClock=new THREE.Clock,haloCanvas=haloRenderer.domElement,haloAnimation=gsap.timeline().pause(),welcome=gsap.timeline({defaults:{duration:.4,ease:"expo.out"}}).pause();menuAnimation=DESKTOP_BREAKPOINT.matches?gsap.timeline({defaults:{duration:.5,ease:"power3.inOut"},onReverseComplete:()=>{DESKTOP_MENU_BUTTON_TEXT.innerHTML="OPEN MENU",isMenuOpen=!1}}).pause():gsap.timeline({defaults:{duration:.5,ease:"power3.out"},onStart:()=>{MOBILE_MENU_BUTTON.children[0].innerHTML="CLOSE"}}).pause(),gsap.set(DESKTOP_MENU,{autoAlpha:0}),gsap.set(DESKTOP_MENU_BACKDROP,{autoAlpha:0}),gsap.set(OGL_CANVAS,{autoAlpha:0}),gsap.set(DESKTOP_MENU_BACKGROUND,{width:DESKTOP_MENU_BUTTON.offsetWidth+16,height:2*DESKTOP_MENU_BUTTON.offsetHeight}),gsap.set(DESKTOP_MENU_DIVIDER,{autoAlpha:0}),gsap.set(MOBILE_MENU,{xPercent:100}),gsap.set(MOBILE_MENU_LINKS,{yPercent:50,autoAlpha:0}),gsap.set(MOBILE_MENU_BUTTONS,{autoAlpha:0}),gsap.set(".letter-container",{yPercent:200}),gsap.set(".welcome",{autoAlpha:0,y:-20}),gsap.set("nav",{yPercent:-200}),gsap.set(".slide",{transformStyle:"preserve-3d",transformPerspective:800}),gsap.set(".middle",{transformOrigin:"center top",y:window.innerHeight,rotationX:40,scale:1.1}),gsap.set(".team-background",{scale:1.15});const lenis=new Lenis({touchMultiplier:.2});function welcomeLoop(){preloaderIsDone?welcome.play():setTimeout(welcomeLoop,200)}function audioVolumeIn(e){if(e.volume){var t=0;e.volume=t;var o=setInterval((function(){t+=.1,e.volume=t.toFixed(1),t.toFixed(1)>=1&&clearInterval(o)}),50)}}function resizeThreeCanvas(e){const t=e.domElement,o=t.clientWidth,a=t.clientHeight,n=t.width!==o||t.height!==a;return n&&e.setSize(o,a,!1),n}if(lenis.on("scroll",(e=>{})),gsap.ticker.add((e=>{lenis.raf(1e3*e)})),gsap.ticker.lagSmoothing(0),welcome.to(".letter-container",{yPercent:0,stagger:.1}),welcome.to(".hero-mask-part",{scaleY:0,ease:"power3.out",duration:1},"<"),welcome.to(".welcome",{autoAlpha:1,y:0,stagger:.1,duration:.8},"<"),welcome.to("nav",{yPercent:0},"<"),setTimeout(welcomeLoop,200),gltfThreeLoader.load(HALO_MODEL_PATH,(function(e){(haloModel=e.scene).scale.set(.4,.4,.4),haloBase.add(haloModel),haloMixer=new THREE.AnimationMixer(haloModel);const t=e.animations,o=THREE.AnimationClip.findByName(t,"axisAction");haloMixer.clipAction(o).play()})),haloRenderer.outputEncoding=THREE.sRGBEncoding,haloRenderer.setPixelRatio(2),haloCamera.position.set(0,0,4.5),haloBase.rotation.set(.3,0,0),THREEJS_HALO_WRAPPER.appendChild(haloCanvas),haloScene.add(haloBase),haloRenderer.setAnimationLoop((()=>{let e=haloClock.getDelta();resizeThreeCanvas(haloRenderer)&&(haloCamera.aspect=haloCanvas.clientWidth/haloCanvas.clientHeight,haloCamera.updateProjectionMatrix()),haloMixer&&haloMixer.update(e),haloRenderer.render(haloScene,haloCamera)})),haloAnimation.fromTo(haloBase.rotation,{x:.3},{x:-.3,duration:.7,ease:"back.out(2)"}),haloAnimation.to(TAP_HALO_TEXT_CLASS,{autoAlpha:1,ease:"power2.out"},"<"),THREEJS_HALO_WRAPPER.addEventListener("click",(e=>{AUDIO_ELEMENT.muted=!1,AUDIO_ELEMENT.play(),audioVolumeIn(AUDIO_ELEMENT)})),haloCanvas.addEventListener("mouseenter",(e=>{isHaloHovered=!0,haloAnimation.play()})),haloCanvas.addEventListener("mouseleave",(e=>{isHaloHovered=!1,haloAnimation.reverse()})),DESKTOP_BREAKPOINT.matches?(menuAnimation.fromTo(DESKTOP_MENU_BACKGROUND,{autoAlpha:0,x:24},{autoAlpha:1,x:0}).to(DESKTOP_MENU,{autoAlpha:1}).to(DESKTOP_MENU_BACKDROP,{autoAlpha:1},"<").to(DESKTOP_MENU_BACKGROUND,{width:DESKTOP_MENU_LAYOUT.offsetWidth-12,height:DESKTOP_MENU_LAYOUT.offsetHeight-12},"<").from(DESKTOP_MENU_LINKS,{autoAlpha:0,yPercent:-20,stagger:.05},"<+=0.2").to(DESKTOP_MENU_DIVIDER,{autoAlpha:1},"<+=0.2").from(DESKTOP_MENU_ANIM_LINKS,{autoAlpha:0,yPercent:-20,stagger:.05},"<"),DESKTOP_MENU_LINKS.forEach((e=>{e.addEventListener("click",(e=>{menuAnimation.reverse()}),!0)})),DESKTOP_MENU_BUTTON.addEventListener("click",(e=>{1==isMenuOpen?menuAnimation.reverse():0==isMenuOpen&&(DESKTOP_MENU_BUTTON_TEXT.innerHTML="CLOSE MENU",menuAnimation.seek(.5).play(),isMenuOpen=!0)})),DESKTOP_MENU.addEventListener("click",(e=>{isMenuOpen&&menuAnimation.reverse()})),DESKTOP_MENU_BUTTON.addEventListener("mouseenter",(e=>{0==isMenuOpen&&gsap.to(menuAnimation,{time:.5})})),DESKTOP_MENU_BUTTON.addEventListener("mouseleave",(e=>{0==isMenuOpen&&gsap.to(menuAnimation,{time:0})})),window.addEventListener("resize",(e=>{gsap.set(DESKTOP_MENU_BACKGROUND,{width:DESKTOP_MENU_LAYOUT.offsetWidth-12,height:DESKTOP_MENU_LAYOUT.offsetHeight-12})}))):(MOBILE_MENU_BUTTON.children[0].innerHTML="MENU",MOBILE_MENU_BRIEF_BUTTON.children[0].innerHTML="BRIEF",menuAnimation.fromTo(MOBILE_MENU,{xPercent:100},{xPercent:0}).fromTo(MOBILE_MENU_LINKS,{yPercent:50,autoAlpha:0},{yPercent:0,autoAlpha:1,stagger:.1}).fromTo(MOBILE_MENU_BUTTONS,{autoAlpha:0},{autoAlpha:1},"<"),MOBILE_MENU_BUTTON.addEventListener("click",(e=>{1==isMenuOpen?(menuAnimation.reverse(),MOBILE_MENU_BUTTON.children[0].innerHTML="MENU",isMenuOpen=!1):0==isMenuOpen&&(menuAnimation.play(),isMenuOpen=!0)})),MOBILE_MENU_LINKS.forEach((e=>{e.addEventListener("click",(e=>{1==isMenuOpen&&(menuAnimation.reverse(),MOBILE_MENU_BUTTON.children[0].innerHTML="MENU",isMenuOpen=!1)}))}))),DESKTOP_BREAKPOINT.matches){const e=document.querySelector(".hero-heading"),t=document.querySelector(".background-video-wrapper"),o=Array.from(t.querySelectorAll("video")),a=e.querySelectorAll(".heading-link"),n=e.querySelectorAll(".not-hoverable"),r=document.querySelector(".bottom-links-wrapper"),i=Array.from(a);let s=!1,l=!1,c=["#0D99FE","#FFD73B","#F15F1B"];o[0].load(),o[1].load(),o[2].load(),a.forEach(((e,t)=>{let d=i.indexOf(a[t]),u=i.filter(((e,t)=>t!=d)),p=o.filter(((e,o)=>o!=t));e.addEventListener("mouseenter",(()=>{setTimeout((()=>{if(s&&!l){let a=gsap.timeline({defaults:{ease:"circ.inOut",duration:.5},onStart:()=>{o[t].play(),l=!0},onComplete:()=>{l=!1}});a.set(p,{autoAlpha:0}),a.to(o[t],{autoAlpha:1,scale:1},"<"),a.to(n,{autoAlpha:0},"<"),a.to(".letter-container",{autoAlpha:0},"<"),a.to(r,{autoAlpha:0},"<"),a.to(u,{autoAlpha:0},"<"),a.to(e,{"--animated-link-width":0,"--animated-link-opacity":0,paddingLeft:12,paddingRight:12,paddingTop:6,paddingBottom:6,marginLeft:-12,marginRight:-12,marginTop:-6,marginBottom:-6,backgroundColor:c[t]},"<")}}),300)})),e.addEventListener("mouseleave",(()=>{let a=setInterval((()=>{if(!s&&!l){let i=gsap.timeline({defaults:{ease:"circ.inOut",duration:.5},onStart:()=>{o[t].pause()}});i.to(o[t],{autoAlpha:0,scale:1.15},"<"),i.to(n,{autoAlpha:1},"<"),i.to(".letter-container",{autoAlpha:1},"<"),i.to(r,{autoAlpha:1},"<"),i.to(u,{autoAlpha:1},"<"),i.to(e,{"--animated-link-width":100,"--animated-link-opacity":1,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginRight:0,marginTop:0,marginBottom:0,backgroundColor:"transparent"},"<"),clearInterval(a)}}),200)})),e.addEventListener("mousemove",(()=>{s=!0})),e.addEventListener("mouseout",(()=>{s=!1}))}))}if(DESKTOP_BREAKPOINT.matches&&(window.addEventListener("load",(e=>{let t=-1;gsap.to(DESCRIPTOR_CONTAINER.children[0],{text:()=>(t+=1,t>4&&(t=0),DESCRIPTOR_NAMES[t]),duration:.7,repeatDelay:1,repeat:-1,repeatRefresh:!0})})),window.addEventListener("load",(e=>{let t=luxon.DateTime,o=document.getElementById("local-time"),a={weekday:"short",hour:"numeric",minute:"2-digit",second:"2-digit"};o.innerHTML=t.now().setZone("UTC+1").setLocale("en-US").toLocaleString(a),setInterval((function(){o.innerHTML=t.now().setZone("UTC+1").setLocale("en-US").toLocaleString(a)}),1e3)}))),DESKTOP_BREAKPOINT.matches){const e=Array.from(document.querySelectorAll(".letter-container")),t=document.querySelector(".sprite-wrapper").querySelectorAll(".sprite-container");t[1].children[0].src="pic/sprites/A-1.avif",t[2].children[0].src="pic/sprites/D.avif",t[3].children[0].src="pic/sprites/I.avif",t[4].children[0].src="pic/sprites/AA.avif",t[5].children[0].src="pic/sprites/N.avif",t[6].children[0].src="pic/sprites/C.avif",t[7].children[0].src="pic/sprites/E.avif",gsap.set(t,{autoAlpha:0,scale:1.3}),e.forEach(((e,o)=>{let a=e.getBoundingClientRect(),n=t[o].querySelector(".sprite");3==o?gsap.set(t[o],{x:a.left-t[o].offsetWidth/2}):gsap.set(t[o],{x:a.left-24});let r=gsap.timeline({defaults:{duration:.7}}).pause();r.fromTo(e,{opacity:1},{opacity:0,duration:.3}),r.fromTo(t[o],{autoAlpha:0},{autoAlpha:1,duration:.3},"<"),r.fromTo(n,{x:0},{x:-t[0].children[0].scrollWidth+t[0].children[0].scrollWidth/18,ease:"steps(17)"},"<"),e.addEventListener("mouseenter",(e=>{r.restart()})),e.addEventListener("mouseleave",(e=>{setTimeout((()=>{r.reverse()}),200)}))}))}else{let e="hero-physics.json",t=document.querySelector(".mobile-letters-lottie-container"),o={frame:0},a=lottie.loadAnimation({container:t,renderer:"svg",loop:!1,autoplay:!1,path:e,rendererSettings:{preserveAspectRatio:"xMaxYMax meet"}});a.addEventListener("DOMLoaded",(function(){gsap.to(o,{frame:a.totalFrames-1,ease:"none",duration:6,onStart:()=>{},onUpdate:()=>a.goToAndStop(o.frame,!0)})}))}function runHorizontalLoop(e,t){e=gsap.utils.toArray(e),t=t||{};let o,a,n,r,i,s,l=gsap.timeline({repeat:t.repeat,paused:t.paused,defaults:{ease:"none"},onReverseComplete:()=>l.totalTime(l.rawTime()+100*l.duration())}),c=e.length,d=e[0].offsetLeft,u=[],p=[],m=[],E=0,g=100*(t.speed||1),h=!1===t.snap?e=>e:gsap.utils.snap(t.snap||1);for(gsap.set(e,{xPercent:(e,t)=>{let o=p[e]=parseFloat(gsap.getProperty(t,"width","px"));return m[e]=h(parseFloat(gsap.getProperty(t,"x","px"))/o*100+gsap.getProperty(t,"xPercent")),m[e]}}),gsap.set(e,{x:0}),o=e[c-1].offsetLeft+m[c-1]/100*p[c-1]-d+e[c-1].offsetWidth*gsap.getProperty(e[c-1],"scaleX")+(parseFloat(t.paddingRight)||0),s=0;s<c;s++)i=e[s],a=m[s]/100*p[s],n=i.offsetLeft+a-d,r=n+p[s]*gsap.getProperty(i,"scaleX"),l.to(i,{xPercent:h((a-r)/p[s]*100),duration:r/g},0).fromTo(i,{xPercent:h((a-r+o)/p[s]*100)},{xPercent:m[s],duration:(a-r+o-a)/g,immediateRender:!1},r/g).add("label"+s,n/g),u[s]=n/g;function T(e,t){t=t||{},Math.abs(e-E)>c/2&&(e+=e>E?-c:c);let o=gsap.utils.wrap(0,c,e),a=u[o];return a>l.time()!=e>E&&(t.modifiers={time:gsap.utils.wrap(0,l.duration())},a+=l.duration()*(e>E?1:-1)),E=o,t.overwrite=!0,l.tweenTo(a,t)}return l.next=e=>T(E+1,e),l.previous=e=>T(E-1,e),l.current=()=>E,l.toIndex=(e,t)=>T(e,t),l.times=u,l.progress(1,!0).progress(0,!0),t.reversed&&(l.vars.onReverseComplete(),l.reverse()),l}function runInfiniteHorizontalLoopedText(){const e=gsap.utils.toArray(".infinite-text-top"),t=gsap.utils.toArray(".infinite-text-bottom");runHorizontalLoop(e,{repeat:-1,paddingRight:"4rem"}),runHorizontalLoop(t,{repeat:-1,paddingRight:"4rem"}),0==DESKTOP_BREAKPOINT.matches&&runHorizontalLoop(gsap.utils.toArray(".partner-branding img"),{repeat:-1});runHorizontalLoop(gsap.utils.toArray(".estimate-card"),{repeat:-1,speed:.5})}function showLottiePhysics(){let e="lottie-physics.json";0==DESKTOP_BREAKPOINT.matches&&(e="lottie-physics-mobile.json");let t=document.querySelector(".lottie-physics-wrapper"),o={frame:0},a=lottie.loadAnimation({container:t,renderer:"svg",loop:!1,autoplay:!1,path:e,rendererSettings:{preserveAspectRatio:"xMidYMin slice"}});a.addEventListener("DOMLoaded",(function(){gsap.to(o,{scrollTrigger:{trigger:"#estimates-slide",start:"top top",end:"+=3000",toggleActions:"play reset play reset"},frame:a.totalFrames-1,ease:"none",duration:6,onStart:()=>{},onUpdate:()=>a.goToAndStop(o.frame,!0)})}))}function animateLastCard(){gsap.to(".ending-background",{scrollTrigger:{trigger:"#portfolio-section",start:"top 200%",end:"bottom bottom",scrub:.4},scale:3.5}),gsap.to("#arrow-svg-arrow",{y:6,yoyo:!0,duration:.75,ease:"power2.inOut",repeat:-1}),document.querySelector(".arrow-svg").addEventListener("mouseenter",(e=>{gsap.to("#arrow-svg-background",{duration:.3,ease:"power2.inOut",fill:"#0D99FE  "}),gsap.to("#arrow-svg-line",{duration:.3,ease:"power2.inOut",scale:0}),gsap.to(".arrow-svg",{duration:.3,ease:"power2.inOut",scale:1.1})}),!0),document.querySelector(".arrow-svg").addEventListener("mouseleave",(e=>{gsap.to("#arrow-svg-background",{duration:.3,ease:"power2.inOut",fill:"#000000"}),gsap.to("#arrow-svg-line",{duration:.3,ease:"power2.inOut",scale:1}),gsap.to(".arrow-svg",{duration:.3,ease:"power2.inOut",scale:1})}),!0)}function animateLinks(e){document.querySelectorAll(e).forEach((e=>{const t=e.children[0];t.style.textShadow="0 1em",e.addEventListener("mouseenter",(()=>{gsap.to(t,{yPercent:-100,ease:"circ.inOut",overwrite:!0})})),e.addEventListener("mouseleave",(()=>{gsap.set(t,{yPercent:0,overwrite:!0})}))}))}window.addEventListener("DOMContentLoaded",(e=>{const t=gsap.utils.mapRange(0,PRESENTATION_CARDS.length-1,.75,1);let o=gsap.timeline({scrollTrigger:{trigger:".presentation-wrapper",pin:".presentation-section",start:"top top",end:"bottom",scrub:1,onEnter:()=>{runInfiniteHorizontalLoopedText()}}});showLottiePhysics(),o.from(".team-background",{scale:.075,ease:"power1.in"}),o.to(".team-background",{scale:1,ease:"power1.in"}),o.to(".presentation-wrapper",{backgroundColor:"#FFD73B"},"<"),o.set(".first",{transformOrigin:"center top"}),o.to(".first",{rotationX:-40,y:-6,ease:"power1.in",scale:.7}),o.to(".middle",{scale:1,ease:"power1.out",y:e=>2*e,rotationX:0,stagger:{each:.5}},"-=0.4"),o.to(".middle",{rotationX:-40,y:e=>12*e,ease:"power1.in",scale:e=>t(e),stagger:{each:.5}},"<+=0.5"),o.to(".presentation-wrapper",{backgroundColor:"#F3F3EF"},"<+=1.5")})),window.addEventListener("load",(e=>{animateLastCard()})),window.addEventListener("load",(e=>{let t=null,o=document.querySelector("#portfolio-section"),a=document.querySelector(".portfolio-cursor"),n=gsap.utils.toArray(".tilt-card-container"),r=o.querySelector(".welcome-wall"),i=[document.querySelector(".project-name-a"),document.querySelector(".project-name-b")],s=[document.querySelector(".project-tag-a"),document.querySelector(".project-tag-b")],l=document.querySelector(".project-year"),c=document.querySelector(".portfolio-counter");const d=gsap.utils.mapRange(0,n.length-1,1,.75),u=gsap.utils.mapRange(0,n.length-1,1,.25);let p=!1;gsap.set(a,{autoAlpha:0}),gsap.set(n,{transformOrigin:"center center",zIndex:e=>-e,y:e=>20*e,scale:e=>d(e),autoAlpha:e=>e<3?u(e):0});let m=gsap.timeline({onComplete:()=>{p=!0}}).pause();function E(e,t){let o=["BIDAPP SDK","UNITS COMMUNITY","POLEMICA PLATFORM","URBAN AMENITIES","INDIEVID LABEL","SCREEN BLASTERS"],a=["STRATEGY DIGITAL","BRANDING DIGITAL","BRAND IDENTITY","STRATEGY BRANDING","IDENTITY, WEBSITE","READYMAG WEBSITE"],n=["2024","2023","2021","2022","2022","2022"],r=gsap.timeline({defaults:{ease:"power1.inOut"}});r.to([s,i,l],{yPercent:t?-100:100,duration:.25,stagger:.1,onComplete:()=>{let[t,r]=o[e].split(" ");i[0].textContent=t,i[1].textContent=r,l.textContent=n[e],[t,r]=a[e].split(" "),s[0].textContent=t,s[1].textContent=r,c.textContent="0"+(e+1)+" / 06"}}),r.set([s,i,l],{yPercent:t?100:-100}),r.to([s,i,l],{duration:.25,stagger:.1,yPercent:0})}m.from(r,{yPercent:100,duration:.3,delay:.5,ease:"power2.out"}),m.from(n,{yPercent:10,autoAlpha:0,ease:"power2.out",stagger:{from:"start",each:.3},duration:.5}),m.from([s,i,l],{yPercent:100,duration:.3,stagger:.1},"<"),m.set(".portfolio-welcome",{autoAlpha:0}),function(){let e=0,r=gsap.delayedCall(1,(()=>i=!0)).pause(),i=!0;function s(o,a){o===n.length&&a||-1===o&&!a?t.disable():(i=!1,r.restart(!0),a?(!function(e){let t=gsap.timeline({defaults:{ease:"power2.inOut"}});if(e<n.length-1){for(let o=e+1;o<n.length;o++)t.to(n[o],{autoAlpha:gsap.getProperty(n[o-1],"opacity"),y:gsap.getProperty(n[o-1],"y"),scale:gsap.getProperty(n[o-1],"scale"),zIndex:gsap.getProperty(n[o-1],"zIndex")},"<");t.to(n[e],{yPercent:-300,zIndex:99},"<")}}(e),E(o,a)):(!function(e){let t=gsap.timeline({defaults:{ease:"power2.inOut"}});t.to(n[e],{yPercent:0}),t.to(n.slice(e),{zIndex:e=>-e,y:e=>20*e,scale:e=>d(e),autoAlpha:e=>e<3?u(e):0},"<")}(o),E(o,a)),e=o)}t=ScrollTrigger.observe({type:"wheel, touch",onUp:()=>{p&&i&&s(e+1,!0),e==n.length-1&&gsap.to(o,{color:"#F3F3EF",backgroundColor:"#060606",duration:.5})},onDown:()=>{p&&i&&s(e-1,!1),e>2&&gsap.to(o,{color:"#060606",backgroundColor:"#F3F3EF",duration:.5})},wheelSpeed:-1,tolerance:1,preventDefault:!0,onEnable:e=>{i=!1,r.restart(!0),lenis.stop()},onDisable:e=>{lenis.start()}}),t.disable(),portfolioScrollTrigger=ScrollTrigger.create({trigger:".portfolio-section",pin:!0,start:"top top",end:"+=300",onEnter:e=>{t.isEnabled||(e.scroll(e.start+1),t.enable(),0==p&&(m.play(),function(){let e=40;n.forEach((t=>{let o=t.children[0];gsap.set(o,{transformStyle:"preserve-3d",transformPerspective:800});const n=o.clientHeight,r=o.clientWidth;function i(t){const i=t.layerX,s=t.layerY;gsap.to(a,{x:t.clientX+32,y:t.clientY+32,autoAlpha:1});const l=e*((i-r/2)/r),c=(s-n/2)/n*-e;gsap.to(o,{rotationX:c,rotationY:l,duration:.4}),gsap.to(o,{scale:1.25})}o.addEventListener("mousemove",i),o.addEventListener("mouseleave",(function(){gsap.to(a,{autoAlpha:0}),gsap.to(o,{rotationX:0,rotationY:0,duration:.4}),gsap.to(o,{scale:1})})),o.addEventListener("mousedown",(function(){gsap.to(o,{scale:.97,duration:.2,overwrite:!0})})),o.addEventListener("mouseup",(function(){gsap.to(o,{duration:.2,scale:1,overwrite:!0})}))}))}(),function(){const e=["pic/work/avif/bdp-","pic/work/avif/unnts-","pic/work/avif/plmc-","pic/work/avif/urb-","pic/work/avif/indvd-","pic/work/avif/scrn-"];n.forEach(((t,o)=>{let a=t.querySelector(".tilt-card");function n(e){for(var t=1;t<=5;t++){var o=new Image;o.src=e+"0"+t+".avif",1==t&&(o.style.opacity=1),a.appendChild(o)}}n(e[o]);let r=Array.from(t.querySelectorAll("img")),i=gsap.timeline();i.to(r,{autoAlpha:1,repeat:-1,duration:0,repeatDelay:1,stagger:{amount:3},yoyo:!0}),i.pause(),t.addEventListener("mouseenter",(()=>{i.play()})),t.addEventListener("mouseleave",(()=>{i.pause()}))}))}()))},onLeave:()=>{},onEnterBack:e=>{t.isEnabled||(e.scroll(e.end-1),t.enable())}})}()})),window.addEventListener("DOMContentLoaded",(e=>{let t=document.querySelector("#menu-section"),o=window.innerHeight,a=[];a=DESKTOP_BREAKPOINT.matches?[t.querySelector("#anchor-main"),t.querySelector("#anchor-meet"),t.querySelector("#anchor-approach"),t.querySelector("#anchor-works"),t.querySelector("#anchor-contacts")]:[document.querySelector("#anchor-main-m"),document.querySelector("#anchor-meet-m"),document.querySelector("#anchor-approach-m"),document.querySelector("#anchor-works-m"),document.querySelector("#anchor-contacts-m")];let n=[document.querySelector("#hero-section"),document.querySelector("#portfolio-section"),document.querySelector("#footer")];a[0].addEventListener("click",(e=>{gsap.to(window,{scrollTo:n[0],duration:1})}),!0),a[1].addEventListener("click",(e=>{gsap.to(window,{scrollTo:o+o/2,duration:1})}),!0),a[2].addEventListener("click",(e=>{gsap.to(window,{scrollTo:4*o,duration:1})}),!0),a[3].addEventListener("click",(e=>{gsap.to(window,{scrollTo:n[1],duration:1})}),!0),a[4].addEventListener("click",(e=>{gsap.to(window,{scrollTo:n[2],duration:1})}),!0),window.addEventListener("resize",(e=>{o=window.innerHeight}))})),window.addEventListener("DOMContentLoaded",(e=>{animateLinks(".animated-link"),animateLinks(".animated-menu-link")})),window.addEventListener("load",(e=>{var t,o,a,n,r={},i=[0,0];function s(){const e=document.querySelector(".canvas-wrapper");a=[e.offsetWidth,e.offsetHeight],t.width=a[0],t.height=a[1]}function l(e){o.viewport(0,0,t.width,t.height),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.uniform1f(n.iTime,e/1e3),o.uniform2f(n.iResolution,t.width,t.height),o.uniform2f(n.iMouse,i[0],i[1]),o.drawElements(o.TRIANGLES,r.inx.len,o.UNSIGNED_SHORT,0),requestAnimationFrame(l)}gsap.timeline({scrollTrigger:{trigger:"#footer",start:"top bottom",end:"bottom bottom",scrub:.5,onEnter:()=>{!function(){if(t=document.getElementById("ogl-canvas"),!(o=t.getContext("webgl")))return;t.addEventListener("mousemove",(e=>{i=[e.clientX,e.clientY]})),n=o.createProgram();for(let e=0;e<2;++e){let t=document.getElementById(0==e?"draw-shader-vs":"draw-shader-fs").text,a=o.createShader(0==e?o.VERTEX_SHADER:o.FRAGMENT_SHADER);o.shaderSource(a,t),o.compileShader(a),o.getShaderParameter(a,o.COMPILE_STATUS)||alert(o.getShaderInfoLog(a)),o.attachShader(n,a),o.linkProgram(n)}o.getProgramParameter(n,o.LINK_STATUS)||alert(o.getProgramIn/foLog(n));n.inPos=o.getAttribLocation(n,"inPos"),n.iTime=o.getUniformLocation(n,"iTime"),n.iMouse=o.getUniformLocation(n,"iMouse"),n.iResolution=o.getUniformLocation(n,"iResolution"),o.useProgram(n);var e=[-1,-1,1,-1,1,1,-1,1],a=[0,1,2,0,2,3];r.pos=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,r.pos),o.bufferData(o.ARRAY_BUFFER,new Float32Array(e),o.STATIC_DRAW),r.inx=o.createBuffer(),r.inx.len=a.length,o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,r.inx),o.bufferData(o.ELEMENT_ARRAY_BUFFER,new Uint16Array(a),o.STATIC_DRAW),o.enableVertexAttribArray(n.inPos),o.vertexAttribPointer(n.inPos,2,o.FLOAT,!1,0,0),o.enable(o.DEPTH_TEST),o.clearColor(0,0,0,1),window.onresize=s,s(),requestAnimationFrame(l)}(),function(){const e=document.querySelector(".footer-heading");new SplitType(e,{types:"chars",tagName:"span"});let t=e.querySelectorAll(".char");e.addEventListener("mouseenter",(e=>{gsap.to(t,{ease:"power2.inOut",color:"#FFD73B",stagger:{from:"center",amount:.6}})})),e.addEventListener("mouseleave",(e=>{gsap.to(t,{ease:"power2.inOut",color:"#B3B3B5",stagger:{from:"center",amount:.6}})}))}()}}}).to("#ogl-canvas",{duration:1,autoAlpha:1,ease:"power3.out",scale:1.2,y:0})}));